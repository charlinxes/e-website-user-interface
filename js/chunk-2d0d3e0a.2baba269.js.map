{"version":3,"sources":["webpack:///./src/views/ProductDetail.vue?e5f3","webpack:///src/views/ProductDetail.vue","webpack:///./src/views/ProductDetail.vue?3ee7","webpack:///./src/views/ProductDetail.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","name","query","category","product","_v","_s","title","spinner","staticStyle","_m","_e","showMainSpinner","style","price","origin_price","_f","on","$event","amount","directives","rawName","value","expression","domProps","target","composing","addToCart","id","cardId","content","staticRenderFns","data","qty","showProductSpinner","components","Header","Footer","props","type","String","required","default","Number","index","created","getProduct","beforeRouteUpdate","to","next","computed","methods","console","log","response","result","message","component"],"mappings":"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","file":"js/chunk-2d0d3e0a.2baba269.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('Header'),_c('main',{staticClass:\"container mt-3\"},[_c('nav',{attrs:{\"aria-label\":\"breadcrum\"}},[_c('ol',{staticClass:\"breadcrumb mb-5\"},[_c('li',{staticClass:\"breadcrumb-item fs-5\"},[_c('router-link',{staticClass:\"text-decoration-none\",attrs:{\"to\":{name: 'Products', query: { category: (\"\" + (_vm.product.category)) } }}},[_vm._v(_vm._s(_vm.category))])],1),_c('li',{staticClass:\"breadcrumb-item active fs-5\",attrs:{\"aria-current\":\"page\"}},[_vm._v(_vm._s(_vm.product.title))])])]),_c('section',{staticClass:\"row gx-5\"},[(_vm.spinner.showMainSpinner)?_c('div',{staticClass:\"position-relative col-12\",staticStyle:{\"height\":\"300px\"}},[_vm._m(0)]):_vm._e(),(!_vm.spinner.showMainSpinner)?_c('div',{staticClass:\"col-lg-6 col-md-7\"},[_c('div',{staticClass:\"productDetailList productDetailList__img\",style:({'background-image': (\"url(\" + (_vm.product.imageUrl) + \")\")})})]):_vm._e(),(!_vm.spinner.showMainSpinner)?_c('div',{staticClass:\"col-lg-6 col-md-5\"},[_c('div',{staticClass:\"text-light\"},[_c('h1',{staticClass:\"mt-3\"},[_vm._v(_vm._s(_vm.product.title))]),(_vm.product.price == _vm.product.origin_price)?_c('div',{staticClass:\"h4 text-danger py-3\"},[_vm._v(\"售價 \"+_vm._s(_vm._f(\"currencyFilter\")(_vm.product.origin_price))+\" 元\")]):_c('div',{staticClass:\"d-flex align-items-baseline\"},[_c('div',[_c('del',{staticClass:\"h6 text-secondary\"},[_vm._v(\"售價 \"+_vm._s(_vm._f(\"currencyFilter\")(_vm.product.origin_price))+\" 元\")])]),_c('div',{staticClass:\"h4 text-danger ms-5\"},[_vm._v(\"特價 \"+_vm._s(_vm._f(\"currencyFilter\")(_vm.product.price))+\" 元\")])]),_c('div',{staticClass:\"d-flex mb-4 mt-3\"},[_c('button',{staticClass:\"countGroup__btn countGroup__btn--color countGroup__btn--hover\\n              countGroup__btn--active border border-warning\",attrs:{\"type\":\"button\",\"id\":\"reductBtn\"},on:{\"click\":function($event){_vm.amount > 1 && _vm.amount--}}},[_vm._v(\"-\")]),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.amount),expression:\"amount\"}],staticClass:\"form-control bg-transparent rounded-0 border-warning border-start-0 border-end-0\\n              text-warning text-center countGroup__input\",attrs:{\"type\":\"text\"},domProps:{\"value\":(_vm.amount)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.amount=$event.target.value}}}),_c('button',{staticClass:\"countGroup__btn countGroup__btn--color countGroup__btn--hover\\n              countGroup__btn--active border border-warning\",attrs:{\"type\":\"button\",\"id\":\"addBtn\"},on:{\"click\":function($event){_vm.amount++}}},[_vm._v(\"+\")])]),_c('button',{staticClass:\"btn btn-outline-warning\",attrs:{\"type\":\"button\"},on:{\"click\":function($event){return _vm.addToCart(_vm.id,_vm.amount,_vm.cardId)}}},[_vm._v(\" 加入購物車 \"),(_vm.spinner.showProductSpinner)?_c('span',{staticClass:\"spinner-border spinner-border-sm\",attrs:{\"role\":\"status\",\"aria-hidden\":\"true\"}}):_vm._e()]),_c('div',{staticClass:\"mt-4\"},[_c('p',{staticClass:\"h4 fw-light\"},[_vm._v(\"商品說明\")]),_c('p',{staticClass:\"fs-5\"},[_vm._v(_vm._s(_vm.product.content))])])])]):_vm._e()])]),_c('Footer')],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"position-absolute top-50 start-50 translate-middle\"},[_c('div',{staticClass:\"spinner-border text-warning\",staticStyle:{\"width\":\"5rem\",\"height\":\"5rem\"},attrs:{\"role\":\"status\"}})])}]\n\nexport { render, staticRenderFns }","<template>\n  <div>\n    <Header></Header>\n    <main class=\"container mt-3\">\n      <!-- 麵包屑-->\n      <nav aria-label=\"breadcrum\">\n        <ol class=\"breadcrumb mb-5\">\n          <li class=\"breadcrumb-item fs-5\">\n            <router-link :to=\"{name: 'Products', query: { category: `${product.category}` } }\"\n              class=\"text-decoration-none\">{{category}}</router-link>\n          </li>\n          <li class=\"breadcrumb-item active fs-5\" aria-current=\"page\">{{ product.title }}</li>\n        </ol>\n      </nav>\n\n      <section class=\"row gx-5\">\n        <div class=\"position-relative col-12\" v-if=\"spinner.showMainSpinner\" style=\"height:300px\">\n          <div class=\"position-absolute top-50 start-50 translate-middle\">\n            <div class=\"spinner-border text-warning\" role=\"status\" style=\"width: 5rem; height: 5rem;\"/>\n          </div>\n        </div>\n        <div class=\"col-lg-6 col-md-7\" v-if=\"!spinner.showMainSpinner\">\n          <div :style=\"{'background-image': `url(${product.imageUrl})`}\" class=\"productDetailList productDetailList__img\"></div>\n        </div>\n        <div class=\"col-lg-6 col-md-5\" v-if=\"!spinner.showMainSpinner\">\n          <div class=\"text-light\">\n            <h1 class=\"mt-3\">{{ product.title }}</h1>\n            <div class=\"h4 text-danger py-3\" v-if=\"product.price == product.origin_price\">售價 {{ product.origin_price | currencyFilter }} 元</div>\n            <div class=\"d-flex align-items-baseline\" v-else>\n              <div><del class=\"h6 text-secondary\">售價 {{ product.origin_price | currencyFilter }} 元</del></div>\n              <div class=\"h4 text-danger ms-5\">特價 {{ product.price | currencyFilter }} 元</div>\n            </div>\n\n            <div class=\"d-flex mb-4 mt-3\">\n              <button class=\"countGroup__btn countGroup__btn--color countGroup__btn--hover\n                countGroup__btn--active border border-warning\" type=\"button\" id=\"reductBtn\" @click=\"amount > 1 && amount--\">-</button>\n              <input type=\"text\" class=\"form-control bg-transparent rounded-0 border-warning border-start-0 border-end-0\n                text-warning text-center countGroup__input\" v-model=\"amount\">\n              <button class=\"countGroup__btn countGroup__btn--color countGroup__btn--hover\n                countGroup__btn--active border border-warning\" type=\"button\" id=\"addBtn\" @click=\"amount++\">+</button>\n            </div>\n            <button type=\"button\" class=\"btn btn-outline-warning\" @click=\"addToCart(id,amount,cardId)\">\n              加入購物車\n              <span class=\"spinner-border spinner-border-sm\" v-if=\"spinner.showProductSpinner\" role=\"status\" aria-hidden=\"true\"/>\n            </button>\n            <div class=\"mt-4\">\n              <p class=\"h4 fw-light\">商品說明</p>\n              <p class=\"fs-5\">{{ product.content }}</p>\n            </div>\n          </div>\n        </div>\n      </section>\n    </main>\n    <Footer></Footer>\n  </div>\n</template>\n\n<script>\nimport Header from '@/components/Header.vue';\nimport Footer from '@/components/Footer.vue';\nimport cartAPI from '../apis/cart_api';\nimport productsAPI from '../apis/products_api';\n\nexport default {\n  data() {\n    return {\n      product: {},\n      amount: this.qty,\n      spinner: {\n        showMainSpinner: false,\n        showProductSpinner: false,\n      },\n    };\n  },\n  components: {\n    Header,\n    Footer,\n  },\n  props: {\n    id: {\n      type: String,\n      required: true,\n    },\n    qty: {\n      default: 1,\n      type: Number,\n    },\n    cardId: {\n      type: String,\n    },\n    index: {\n      type: Number,\n    },\n  },\n  created() {\n    this.getProduct(this.id);\n  },\n  beforeRouteUpdate(to, from, next) {\n    this.getProduct(to.query.id);\n    this.amount = to.query.qty;\n    next();\n  },\n  computed: {\n    category() {\n      switch (this.product.category) {\n        case 'cloth':\n          return '服飾區';\n        case 'food':\n          return '食品區';\n        default:\n          return '家居區';\n      }\n    },\n  },\n  methods: {\n    getProduct(productId) {\n      this.spinner.showMainSpinner = true;\n      productsAPI.get(productId).then((response) => {\n        console.log(response);\n        const result = response.data?.product;\n        if (result?.category && result?.title) {\n          this.product = result;\n        } else {\n          console.log(response.data.message);\n        }\n        this.spinner.showMainSpinner = false;\n      }).catch((error) => { console.log(error); });\n    },\n    addToCart(id, amount = 1, cardId) {\n      this.spinner.showProductSpinner = true;\n      if (cardId) {\n        cartAPI.delete(cardId).then(() => {\n          this.$store.commit('delFromCart', this.index);\n        });\n      }\n      cartAPI.post(id, amount).then((response) => {\n        this.$store.commit('addToCart', response.data.data);\n        this.spinner.showProductSpinner = false;\n      });\n    },\n  },\n};\n</script>\n","import mod from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductDetail.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../node_modules/thread-loader/dist/cjs.js!../../node_modules/babel-loader/lib/index.js!../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../node_modules/vue-loader/lib/index.js??vue-loader-options!./ProductDetail.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./ProductDetail.vue?vue&type=template&id=f10697b4&\"\nimport script from \"./ProductDetail.vue?vue&type=script&lang=js&\"\nexport * from \"./ProductDetail.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}