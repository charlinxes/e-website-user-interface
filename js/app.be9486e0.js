(function(t){function e(e){for(var a,r,o=e[0],c=e[1],u=e[2],l=0,d=[];l<o.length;l++)r=o[l],Object.prototype.hasOwnProperty.call(i,r)&&i[r]&&d.push(i[r][0]),i[r]=0;for(a in c)Object.prototype.hasOwnProperty.call(c,a)&&(t[a]=c[a]);p&&p(e);while(d.length)d.shift()();return s.push.apply(s,u||[]),n()}function n(){for(var t,e=0;e<s.length;e++){for(var n=s[e],a=!0,r=1;r<n.length;r++){var o=n[r];0!==i[o]&&(a=!1)}a&&(s.splice(e--,1),t=c(c.s=n[0]))}return t}var a={},r={app:0},i={app:0},s=[];function o(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-2d0d3e0a":"2baba269","chunk-72abe7fa":"2bd2b011"}[t]+".js"}function c(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,c),n.l=!0,n.exports}c.e=function(t){var e=[],n={"chunk-72abe7fa":1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise((function(e,n){for(var a="css/"+({}[t]||t)+"."+{"chunk-2d0d3e0a":"31d6cfe0","chunk-72abe7fa":"e88861ff"}[t]+".css",i=c.p+a,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var u=s[o],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===a||l===i))return e()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){u=d[o],l=u.getAttribute("data-href");if(l===a||l===i)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var a=e&&e.target&&e.target.src||i,s=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=a,delete r[t],p.parentNode.removeChild(p),n(s)},p.href=i;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){r[t]=0})));var a=i[t];if(0!==a)if(a)e.push(a[2]);else{var s=new Promise((function(e,n){a=i[t]=[e,n]}));e.push(a[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=o(t);var d=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(p);var n=i[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",d.name="ChunkLoadError",d.type=a,d.request=r,n[1](d)}i[t]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=a,c.d=function(t,e,n){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(c.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)c.d(n,a,function(e){return t[e]}.bind(null,a));return n},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/e-website-user-interface/",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var d=0;d<u.length;d++)e(u[d]);var p=l;s.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"00e1":function(t,e,n){"use strict";var a=n("bb36");e["a"]={getList:function(t){return a["a"].get("/products?page=".concat(t))},get:function(t){return a["a"].get("product/".concat(t))}}},"0418":function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("header",{staticClass:"header--bgcolor"},[n("nav",{staticClass:"navbar navbar-expand-lg"},[n("div",{staticClass:"container-fluid"},[n("router-link",{staticClass:"navbar-brand",attrs:{to:{name:"Products"}}},[n("h1",{staticClass:"h3 text-warning"},[n("font-awesome-icon",{staticClass:"me-1",attrs:{icon:"american-sign-language-interpreting"}}),t._v(" HOLO商城 ")],1)]),n("div",{staticClass:"dropdown"},[n("button",{staticClass:"btn btn-outline-secondary fs-4 border-0 position-relative",attrs:{type:"button",id:"dropdownMenuButton","data-bs-toggle":"dropdown","aria-expanded":"false"}},[n("font-awesome-icon",{staticClass:"text-warning",attrs:{icon:"shopping-cart"}}),t.cartArray.length?n("span",{staticClass:"position-absolute translate-middle badge rounded-pill bg-danger"},[t._v(" "+t._s(t.cartArray.length)+" ")]):t._e()],1),n("div",{staticClass:"dropdown-menu dropdown-menu-dark dropdown-menu-end py-3 text-nowrap text-center",staticStyle:{"max-width":"25rem"},attrs:{"aria-labelledby":"navbarDarkDropdownMenuLink"}},[n("p",{staticClass:"fs-5 mb-2 px-3 text-start"},[t._v(" 已選擇商品 "),t.showSpinner?n("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):t._e()]),t._l(t.cartArray,(function(e,a){return n("div",{key:e.id,staticClass:"d-flex mb-2 align-items-center justify-content-between px-3 py-1 link-hover"},[n("div",{staticClass:"d-flex align-items-center justify-content-between text-decoration-none text-light w-100",on:{click:function(n){return t.showDetail(e.product.id,e.qty,e.id,a)}}},[n("div",{staticClass:"header__cart__bgimg me-3",style:{"background-image":"url("+e.product.imageUrl+")"}}),n("div",{staticClass:"me-2 single-ellipsis title-width-limit"},[t._v(t._s(e.product.title))]),n("div",{staticClass:"me-2 single-ellipsis qty-width-limit"},[t._v(t._s(e.qty)+t._s(e.product.unit))]),n("div",{staticClass:"me-2 single-ellipsis text-warning price-width-limit"},[t._v(t._s(t._f("currencyFilter")(e.product.price*e.qty)))])]),n("button",{staticClass:"btn btn-outline-danger btn-sm py-1",attrs:{type:"button"},on:{click:function(n){return n.stopPropagation(),t.delFromCart(e.id,a)}}},[n("font-awesome-icon",{attrs:{icon:"trash-alt"}})],1)])})),n("button",{staticClass:"btn btn-outline-danger mt-2 fs-5 d-block mx-auto w-75",class:{disabled:0===t.cartArray.length},attrs:{type:"button"},on:{click:function(e){return t.$router.push({name:"Checkout"})}}},[t._v(" 結帳"),n("font-awesome-icon",{staticClass:"ms-1",attrs:{icon:"shopping-cart"}})],1)],2)])],1)])])])},r=[],i=n("5530"),s=n("8147"),o=n.n(s),c=n("2f62"),u=n("fd40"),l={name:"CustomerHomePage",data:function(){return{myDropDown:{},showSpinner:!1}},created:function(){var t=this;u["a"].get().then((function(e){t.$store.commit("updateCartArray",e.data.data.carts)}))},mounted:function(){this.myDropDown=new o.a(document.getElementById("dropdownMenuButton"))},computed:Object(i["a"])({},Object(c["c"])(["cartArray"])),methods:{delFromCart:function(t,e){var n=this;this.showSpinner=!0,u["a"].delete(t).then((function(){n.$store.commit("delFromCart",e),n.showSpinner=!1}))},showDetail:function(t,e,n,a){this.$router.push({name:"ProductDetail",query:{id:"".concat(t),qty:e,cardId:n,index:a}})}}},d=l,p=n("2877"),f=Object(p["a"])(d,a,r,!1,null,null,null);e["a"]=f.exports},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d"),n("4de4");var a=n("2b0e"),r=n("bc3a"),i=n.n(r),s=n("2106"),o=n.n(s),c=n("ecee"),u=n("c074"),l=n("ad3d"),d=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("router-view")],1)},p=[],f={name:"App"},h=f,g=(n("5c0b"),n("2877")),m=Object(g["a"])(h,d,p,!1,null,null,null),b=m.exports,v=(n("d3b7"),n("3ca3"),n("ddb0"),n("8c4f")),y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header"),t._m(0),n("section",{staticClass:"container-md px-5"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col-md-2"},[n("div",{staticClass:"sticky-top sticky-top-mt row"},[n("div",{staticClass:"col-md-12 col-4 mb-4"},[n("button",{staticClass:"btn btn-outline-warning d-flex justify-content-center align-items-center mx-auto",class:{"toggleList__btn--active":"cloth"===t.category},staticStyle:{height:"80px",width:"80px"},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.changeCategory("cloth")}}},[n("div",[n("font-awesome-icon",{staticClass:"fs-4",attrs:{icon:"tshirt"}}),n("p",{staticClass:"mb-0"},[t._v("服飾區")])],1)])]),n("div",{staticClass:"col-md-12 col-4 mb-4"},[n("button",{staticClass:"btn btn-outline-warning d-flex justify-content-center align-items-center mx-auto",class:{"toggleList__btn--active":"food"===t.category},staticStyle:{height:"80px",width:"80px"},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.changeCategory("food")}}},[n("div",[n("font-awesome-icon",{staticClass:"fs-4",attrs:{icon:"utensils"}}),n("p",{staticClass:"mb-0"},[t._v("食品區")])],1)])]),n("div",{staticClass:"col-md-12 col-4 mb-4"},[n("button",{staticClass:"btn btn-outline-warning d-flex justify-content-center align-items-center mx-auto",class:{"toggleList__btn--active":"furniture"===t.category},staticStyle:{height:"80px",width:"80px"},attrs:{type:"button"},on:{click:function(e){return e.preventDefault(),t.changeCategory("furniture")}}},[n("div",[n("font-awesome-icon",{staticClass:"fs-4",attrs:{icon:"home"}}),n("p",{staticClass:"mb-0"},[t._v("家居區")])],1)])])])]),n("router-view")],1)]),n("Footer")],1)},_=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container-fluid px-0 mb-4"},[n("div",{staticClass:"banner d-flex justify-content-center align-items-end py-5"},[n("div",{staticClass:"w-50 banner__title--bgcolor p-3 text-center"},[n("p",{staticClass:"display-3 fw-bold"},[t._v("買到剁手手！跳樓大拍賣")]),n("p",{staticClass:"fs-5"},[t._v("這是一個充滿歡樂的購物平台")])])])])}],C=n("5530"),w=n("2f62"),x=n("0418"),k=n("fd2d"),P={name:"CustomerHomePage",components:{Header:x["a"],Footer:k["a"]},beforeRouteUpdate:function(t,e,n){this.$store.commit("changeCategory",t.query.category?t.query.category:"cloth"),n()},computed:Object(C["a"])({},Object(w["c"])(["category"])),methods:{changeCategory:function(t){t!==this.category&&(this.$store.commit("changeCategory",t),this.$router.push({name:"Products",query:{category:"".concat(t)}}))}}},j=P,O=Object(g["a"])(j,y,_,!1,null,null,null),S=O.exports,q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("main",{staticClass:"col-md-10"},[t.spinner.showMainSpinner?n("div",{staticClass:"position-relative",staticStyle:{height:"300px"}},[t._m(0)]):t._e(),t.spinner.showMainSpinner?t._e():n("div",{staticClass:"row"},t._l(t.filterProducts,(function(e){return n("div",{key:e.id,staticClass:"col-12 col-md-6 col-lg-4 col-xl-3 mb-4 pointer"},[n("div",{staticClass:"card h-100 card--hover outline border-0 rounded-0",on:{click:function(n){return t.showDetail(e.id)}}},[n("div",{staticClass:"card__img",style:{"background-image":"url("+e.imageUrl+")"}}),n("div",{staticClass:"card-body pb-0"},[n("span",{staticClass:"badge bg-secondary float-end ml-2"},[t._v(t._s(t._f("categoryTransform")(e.category)))]),n("h5",{staticClass:"card-title text-light single-ellipsis"},[t._v(t._s(e.title))]),n("p",{staticClass:"card-text multiline-ellipsis"},[t._v(t._s(e.content))]),e.price==e.origin_price?n("div",{staticClass:"h5"},[t._v(t._s(t._f("currencyFilter")(e.origin_price))+" ")]):n("div",{staticClass:"row align-items-baseline"},[n("div",{staticClass:"col-auto"},[n("del",{staticClass:"h6"},[t._v(" "+t._s(t._f("currencyFilter")(e.origin_price))+" ")])]),n("div",{staticClass:"h5 col-auto ms-auto"},[t._v(" "+t._s(t._f("currencyFilter")(e.price))+" ")])])]),n("div",{staticClass:"card-footer d-flex rounded-0"},[n("button",{staticClass:"btn btn-outline-warning btn-sm ms-auto",attrs:{type:"button"},on:{click:function(n){return n.stopPropagation(),t.addToCart(e.id,1)}}},[t._v(" 加到購物車 "),t.spinner.showProductSpinner===e.id?n("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):t._e()])])])])})),0),t.spinner.showMainSpinner?t._e():n("Pagination",t._b({on:{updateDataList:t.getProducts}},"Pagination",t.paginationObj,!1))],1)},D=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"position-absolute top-50 start-50 translate-middle"},[n("div",{staticClass:"spinner-border text-warning",staticStyle:{width:"5rem",height:"5rem"},attrs:{role:"status"}})])}],$=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("nav",{attrs:{"aria-label":"Page navigation"}},[n("ul",{staticClass:"pagination"},[n("li",{staticClass:"page-item",class:{disabled:!t.has_pre}},[n("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Previous"},on:{click:function(e){return e.preventDefault(),t.changePage(1)}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("«")])])]),t.pageList[2]-2>1?n("li",{staticClass:"page-item disabled"},[n("span",{staticClass:"page-link"},[t._v("...")])]):t._e(),t._l(t.pageList,(function(e){return n("li",{key:e,staticClass:"page-item",class:{active:e===t.current_page}},[n("a",{staticClass:"page-link",attrs:{href:"#"},on:{click:function(n){return n.preventDefault(),t.changePage(e)}}},[t._v(t._s(e))])])})),t.total_pages-t.pageList[2]>2?n("li",{staticClass:"page-item disabled"},[n("span",{staticClass:"page-link"},[t._v("...")])]):t._e(),n("li",{staticClass:"page-item",class:{disabled:!t.has_next}},[n("a",{staticClass:"page-link",attrs:{href:"#","aria-label":"Next"},on:{click:function(e){return e.preventDefault(),t.changePage(t.total_pages)}}},[n("span",{attrs:{"aria-hidden":"true"}},[t._v("»")])])])],2)])},A=[],E=(n("a9e3"),{name:"Pagination",props:{total_pages:{type:Number,required:!0},current_page:{type:Number,required:!0},has_pre:{type:Boolean,required:!0},has_next:{type:Boolean,required:!0}},computed:{pageList:function(){var t=[];if(this.total_pages<=5){var e=1;do{t.push(e),e+=1}while(e<=this.total_pages);return t}return this.current_page<=3?[1,2,3,4,5]:this.current_page===this.total_pages?[this.current_page-2,this.current_page-1,this.current_page]:this.current_page===this.total_pages-1?[this.current_page-1,this.current_page,this.current_page+1]:[this.current_page-2,this.current_page-1,this.current_page,this.current_page+1,this.current_page+2]}},methods:{changePage:function(t){this.$emit("updateDataList",t)}}}),L=E,T=Object(g["a"])(L,$,A,!1,null,null,null),F=T.exports,M=n("fd40"),N=n("00e1"),B={name:"CustomerProducts",props:{category:{type:String,required:!0,default:"cloth"}},data:function(){return{products:[],paginationObj:{total_pages:1,current_page:1,has_pre:!1,has_next:!1},spinner:{showMainSpinner:!1,showProductSpinner:""}}},created:function(){this.getProducts(),this.$store.commit("changeCategory",this.category)},components:{Pagination:F},computed:{filterProducts:function(){return"cloth"===this.category?this.products.filter((function(t){return"1"===t.is_enabled&&"cloth"===t.category})):"food"===this.category?this.products.filter((function(t){return"1"===t.is_enabled&&"food"===t.category})):this.products.filter((function(t){return"1"===t.is_enabled&&"furniture"===t.category}))}},methods:{getProducts:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;this.spinner.showMainSpinner=!0,N["a"].getList(e).then((function(e){var n,a,r=null===(n=e.data)||void 0===n?void 0:n.products,i=null===(a=e.data)||void 0===a?void 0:a.pagination;r&&i?(t.products=r,t.paginationObj=i):console.log("未找到商品列表"),t.spinner.showMainSpinner=!1})).catch((function(t){console.log(t)}))},addToCart:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.spinner.showProductSpinner=t,M["a"].post(t,n).then((function(t){e.$store.commit("addToCart",t.data.data),e.spinner.showProductSpinner=""}))},showDetail:function(t){this.$router.push({name:"ProductDetail",query:{id:"".concat(t)}})}}},H=B,I=Object(g["a"])(H,q,D,!1,null,null,null),U=I.exports;a["a"].use(v["a"]);var z=[{path:"/",name:"Home",component:S,redirect:{name:"Products",query:{category:"cloth"}},children:[{path:"products",name:"Products",component:U,props:function(t){return{category:t.query.category}}}]},{path:"/product_Detail",name:"ProductDetail",component:function(){return n.e("chunk-2d0d3e0a").then(n.bind(null,"5f47"))},props:function(t){return{id:t.query.id,qty:t.query.qty,cardId:t.query.cardId,index:t.query.index}}},{path:"/checkout",name:"Checkout",component:function(){return n.e("chunk-72abe7fa").then(n.bind(null,"7cb4"))}},{path:"*",redirect:{name:"Products",query:{category:"cloth"}}}],J=new v["a"]({routes:z}),R=v["a"].prototype.push;v["a"].prototype.push=function(t){return R.call(this,t).catch((function(t){return t}))};var K=J,G=function(t){return function(){return t.cartArray.reduce((function(t,e){return e.total+t}),0)}},Q={cartTotalPrice:G},V=(n("a434"),function(t,e){t.cartArray=e}),W=function(t,e){t.cartArray.splice(e,1)},X=function(t,e){t.cartArray.push(e)},Y=function(t,e){t.category=e},Z={updateCartArray:V,delFromCart:W,addToCart:X,changeCategory:Y};a["a"].use(w["a"]);var tt=new w["a"].Store({state:{cartArray:[],category:"cloth"},mutations:Z,getters:Q}),et=(n("ac1f"),n("5319"),n("b680"),function(t){var e=Number(t);return"$".concat(e.toFixed(0).replace(/./g,(function(t,e,n){var a=e&&"."!==t&&(n.length-e)%3===0?", ".concat(t).replace(/\s/g,""):t;return a})))}),nt=function(t){switch(t){case"cloth":return"服飾";case"food":return"食品";default:return"家居"}},at=n("7bb1"),rt=n("4c93"),it=n("60d4");Object(at["c"])("email",rt["b"]),Object(at["c"])("required",rt["c"]),Object(at["c"])("digits",rt["a"]),Object(at["d"])({zhTaiwan:{messages:Object(C["a"])(Object(C["a"])({},it.messages),{},{required:"此項為必填項目，請勿留空",email:"請輸入有效的電子信箱",digits:"此項必須由十個數字構成"})}}),Object(at["d"])("zhTaiwan"),c["c"].add(u["d"],u["a"],u["c"],u["e"],u["f"],u["b"]),a["a"].config.productionTip=!1,a["a"].use(o.a,i.a),a["a"].component("font-awesome-icon",l["a"]),a["a"].filter("currencyFilter",et),a["a"].filter("categoryTransform",nt),new a["a"]({router:K,store:tt,render:function(t){return t(b)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";n("9c0c")},"9c0c":function(t,e,n){},bb36:function(t,e,n){"use strict";n("99af");var a=n("bc3a"),r=n.n(a),i=r.a.create({baseURL:"".concat("https://vue-course-api.hexschool.io","/api/").concat("charlie")});e["a"]=i},fd2d:function(t,e,n){"use strict";var a=function(){var t=this,e=t.$createElement;t._self._c;return t._m(0)},r=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("footer",[n("div",{staticClass:"footer footer--color position-absolute end-0 bottom-0 start-0 p-3 text-center fs-4 text-warning"},[n("p",[t._v("@copyright")])])])}],i=n("2877"),s={},o=Object(i["a"])(s,a,r,!1,null,null,null);e["a"]=o.exports},fd40:function(t,e,n){"use strict";var a=n("bb36");e["a"]={get:function(){return a["a"].get("/cart")},post:function(t,e){return a["a"].post("/cart",{data:{product_id:t,qty:e}})},delete:function(t){return a["a"].delete("/cart/".concat(t))}}}});
//# sourceMappingURL=app.be9486e0.js.map