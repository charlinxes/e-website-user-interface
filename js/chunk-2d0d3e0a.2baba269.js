(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0d3e0a"],{"5f47":function(t,e,n){"use strict";n.r(e);var r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("Header"),n("main",{staticClass:"container mt-3"},[n("nav",{attrs:{"aria-label":"breadcrum"}},[n("ol",{staticClass:"breadcrumb mb-5"},[n("li",{staticClass:"breadcrumb-item fs-5"},[n("router-link",{staticClass:"text-decoration-none",attrs:{to:{name:"Products",query:{category:""+t.product.category}}}},[t._v(t._s(t.category))])],1),n("li",{staticClass:"breadcrumb-item active fs-5",attrs:{"aria-current":"page"}},[t._v(t._s(t.product.title))])])]),n("section",{staticClass:"row gx-5"},[t.spinner.showMainSpinner?n("div",{staticClass:"position-relative col-12",staticStyle:{height:"300px"}},[t._m(0)]):t._e(),t.spinner.showMainSpinner?t._e():n("div",{staticClass:"col-lg-6 col-md-7"},[n("div",{staticClass:"productDetailList productDetailList__img",style:{"background-image":"url("+t.product.imageUrl+")"}})]),t.spinner.showMainSpinner?t._e():n("div",{staticClass:"col-lg-6 col-md-5"},[n("div",{staticClass:"text-light"},[n("h1",{staticClass:"mt-3"},[t._v(t._s(t.product.title))]),t.product.price==t.product.origin_price?n("div",{staticClass:"h4 text-danger py-3"},[t._v("售價 "+t._s(t._f("currencyFilter")(t.product.origin_price))+" 元")]):n("div",{staticClass:"d-flex align-items-baseline"},[n("div",[n("del",{staticClass:"h6 text-secondary"},[t._v("售價 "+t._s(t._f("currencyFilter")(t.product.origin_price))+" 元")])]),n("div",{staticClass:"h4 text-danger ms-5"},[t._v("特價 "+t._s(t._f("currencyFilter")(t.product.price))+" 元")])]),n("div",{staticClass:"d-flex mb-4 mt-3"},[n("button",{staticClass:"countGroup__btn countGroup__btn--color countGroup__btn--hover\n              countGroup__btn--active border border-warning",attrs:{type:"button",id:"reductBtn"},on:{click:function(e){t.amount>1&&t.amount--}}},[t._v("-")]),n("input",{directives:[{name:"model",rawName:"v-model",value:t.amount,expression:"amount"}],staticClass:"form-control bg-transparent rounded-0 border-warning border-start-0 border-end-0\n              text-warning text-center countGroup__input",attrs:{type:"text"},domProps:{value:t.amount},on:{input:function(e){e.target.composing||(t.amount=e.target.value)}}}),n("button",{staticClass:"countGroup__btn countGroup__btn--color countGroup__btn--hover\n              countGroup__btn--active border border-warning",attrs:{type:"button",id:"addBtn"},on:{click:function(e){t.amount++}}},[t._v("+")])]),n("button",{staticClass:"btn btn-outline-warning",attrs:{type:"button"},on:{click:function(e){return t.addToCart(t.id,t.amount,t.cardId)}}},[t._v(" 加入購物車 "),t.spinner.showProductSpinner?n("span",{staticClass:"spinner-border spinner-border-sm",attrs:{role:"status","aria-hidden":"true"}}):t._e()]),n("div",{staticClass:"mt-4"},[n("p",{staticClass:"h4 fw-light"},[t._v("商品說明")]),n("p",{staticClass:"fs-5"},[t._v(t._s(t.product.content))])])])])])]),n("Footer")],1)},i=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"position-absolute top-50 start-50 translate-middle"},[n("div",{staticClass:"spinner-border text-warning",staticStyle:{width:"5rem",height:"5rem"},attrs:{role:"status"}})])}],o=(n("a9e3"),n("0418")),a=n("fd2d"),s=n("fd40"),c=n("00e1"),d={data:function(){return{product:{},amount:this.qty,spinner:{showMainSpinner:!1,showProductSpinner:!1}}},components:{Header:o["a"],Footer:a["a"]},props:{id:{type:String,required:!0},qty:{default:1,type:Number},cardId:{type:String},index:{type:Number}},created:function(){this.getProduct(this.id)},beforeRouteUpdate:function(t,e,n){this.getProduct(t.query.id),this.amount=t.query.qty,n()},computed:{category:function(){switch(this.product.category){case"cloth":return"服飾區";case"food":return"食品區";default:return"家居區"}}},methods:{getProduct:function(t){var e=this;this.spinner.showMainSpinner=!0,c["a"].get(t).then((function(t){var n;console.log(t);var r=null===(n=t.data)||void 0===n?void 0:n.product;null!==r&&void 0!==r&&r.category&&null!==r&&void 0!==r&&r.title?e.product=r:console.log(t.data.message),e.spinner.showMainSpinner=!1})).catch((function(t){console.log(t)}))},addToCart:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,r=arguments.length>2?arguments[2]:void 0;this.spinner.showProductSpinner=!0,r&&s["a"].delete(r).then((function(){e.$store.commit("delFromCart",e.index)})),s["a"].post(t,n).then((function(t){e.$store.commit("addToCart",t.data.data),e.spinner.showProductSpinner=!1}))}}},u=d,l=n("2877"),p=Object(l["a"])(u,r,i,!1,null,null,null);e["default"]=p.exports}}]);
//# sourceMappingURL=chunk-2d0d3e0a.2baba269.js.map